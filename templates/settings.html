{% extends 'base.html' %}
{% block title %}Settings{% endblock %}
{% block content %}
<h1 class="mb-4">⚙️ Settings</h1>
<div class="card p-4 shadow-sm">
    <div class="row g-3 mb-2">
        <div class="col-md-4">
            <label class="form-label">Default table</label>
            <input type="text" id="settingsTable" class="form-control" placeholder="Table name">
        </div>
        <div class="col-md-4">
            <label class="form-label">Default date range</label>
            <select id="settingsRange" class="form-select">
                <option value="today">Today</option>
                <option value="yesterday">Yesterday</option>
                <option value="last7">Last 7 Days</option>
                <option value="last30">Last 30 Days</option>
                <option value="custom">Custom</option>
            </select>
        </div>
        <div class="col-md-4">
            <label class="form-label">Start time</label>
            <input type="text" id="settingsStart" class="form-control" placeholder="YYYY-MM-DD HH:MM:SS">
        </div>
        <div class="col-md-4">
            <label class="form-label">End time</label>
            <input type="text" id="settingsEnd" class="form-control" placeholder="YYYY-MM-DD HH:MM:SS">
        </div>
    </div>
    <div class="row g-2 mb-2">
        <div class="col-md-2 ms-auto">
            <button class="btn btn-primary w-100" onclick="saveSettings()">Save</button>
        </div>
    </div>
</div>
<script>
function saveSettings() {
    localStorage.setItem('mysql_table', document.getElementById('settingsTable').value);
    const range = document.getElementById('settingsRange').value;
    localStorage.setItem('mysql_date_range', range);
    localStorage.setItem('mysql_start_time', document.getElementById('settingsStart').value);
    localStorage.setItem('mysql_end_time', document.getElementById('settingsEnd').value);
    alert('Settings saved');
}

document.addEventListener('DOMContentLoaded', () => {
    document.getElementById('settingsTable').value = localStorage.getItem('mysql_table') || '';
    document.getElementById('settingsRange').value = localStorage.getItem('mysql_date_range') || 'today';
    document.getElementById('settingsStart').value = localStorage.getItem('mysql_start_time') || '';
    document.getElementById('settingsEnd').value = localStorage.getItem('mysql_end_time') || '';
});
</script>
{% endblock %}
